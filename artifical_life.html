<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Artifical Life: Replicating the Process of Evolution</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="artifical_life.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

</head>
<body>
    <header>
        <h1>Artifical Life: Replicating the Process of Evolution</h1>
    </header>

    <div class="video-container">
        <div class="video-item">
            <h3 class="project_titles">Experiment 1</h3>
            <video id="video1" width="320" height="180" muted controls>
                <source src="Experiment1.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
        <div class="video-item">
            <h3 class="project_titles">Experiment 2</h3>
            <video id="video2" width="320" height="180" muted controls>
                <source src="Experiment2.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
        <div class="video-item">
            <h3 class="project_titles">Experiment 3</h3>
            <video id="video3" width="320" height="180" muted controls>
                <source src="Experiment3.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
    </div>
    <div class="video-controls">
        <button onclick="playVideos()">Play All</button>
        <button onclick="pauseVideos()">Pause All</button>
    </div>
    

    <section>
        <div class="button-container">
            <a href="https://github.com/catherg/Portfolio/tree/Artificial-Life-Project" class="button">View the code</a>
        </div>

        <div class="button-container">
            <a href="https://youtu.be/rAyzGG67TB0" class="button">Watch the Explanation Video</a>
        </div>

        <h2 class="project_titles">Running the program:</h2>
        <ol>
            <li>Navigate to GitHub Desktop or download a zip of the files in the branch final1</li>
            <li>Open the zipped file or navigate to the folder directed (catherg/mybots) on your terminal</li>
            <li>Confirm you are in a branch called "final1" on your terminal</li>
            <li>Run the program with the command: "python3 search.py"</li>
        </ol>
        <h3 class="heading-style">
            Notes about analyzing the simulation:
        </h3>
        <p>The best performing body and brain is saved in this repository as experiment1_body(givenID).urdf, experiment1_brain(givenID).nndf, etc.</p>
        <br><p>If needed, run the best performing body in each experiment using these files (delete the "experiment1_" tag in the name before you run it) - These files can be run in solution and parallelhillclimber, specifically in line 16 of of parallelHillClimber.py, change the self.nextAvailableID to the ID number given in these files and change self.parents[i] to self.parents[0]. - Then in line 67 of of parallelHillClimber.py put self.parents[0] instead of self.parents[highest]</p>
        <br><p>Note about running the program: If there are issues with the fitness value being read, run it again and it should be read fine (this error occurs sometimes when running a large number of generations)</p>
    </section>
    <section>
        <h2 class="project_titles">Hypothesis</h2>
        <br><p>
            I believe that the first experiment with a restriction on 15 cubes will perform the task the best. This is because I believe 15 cubes is enough for the sensors and the brain to have optimal control when doing the task. Once the creature gets larger and gains more cubes it would become too heavy and chaotic to march to the beat very well.
        </p>
    </section>
    <section>
        <h2 class="project_titles">Conclusion:</h2>
        <p>
            It ultimately seems that after running my experiment my initial thoughts and hypotheses were proven right, the size of a creature impacts its movement a lot, usually making it worse. Although I didn't anticipate the experiment 3 robot to have the best fitness values, especially only after 100 generations. I also didn't anticipate the experiment 1 robot to grow arms and have the most symmetry among all of the robots.
        </p><br>
        <p>
            I would further explore the symmetry in these robots if I had more time, and I would analyze if the experiment 3 robot always produces the best fitness values. Another thing I would do if I had more time is to not make time a constant in these experiments, but rather run all of these experiments for 500+ generations, and vary population size to see if there is any difference in the behavior.
        </p>
    </section>
    <div class="sidebar">
        <button class="toggle" onclick="toggleSection('content1')">Experimentation <i class="fas fa-caret-down"></i></button>
        <button class="toggle" onclick="toggleSection('content2')">Functions and Sensors <i class="fas fa-caret-down"></i></button>
        <button class="toggle" onclick="toggleSection('content3')">Creation of the Body and Brain <i class="fas fa-caret-down"></i></button>
        <button class="toggle" onclick="toggleSection('content4')">Morphospace <i class="fas fa-caret-down"></i></button>
        <button class="toggle" onclick="toggleSection('content5')">Process of Selection <i class="fas fa-caret-down"></i></button>
        <button class="toggle" onclick="toggleSection('content6')">Fitness Curves <i class="fas fa-caret-down"></i></button>
        <button class="toggle" onclick="toggleSection('content7')">Final Results <i class="fas fa-caret-down"></i></button>
    </div>

    <div class="content" id="content1">
        <section>
            <h2 class="project_titles">Experimentation</h2>
            <br>
            <p>The task of the creature is to march to the beat, meaning that they will be walking with small wiggles and jumps in between steps. As the generations continue, the creature will randomly mutate by adding random cube to any axis, and the brain then adding a sensor neuron.
            </p><br>
            <p>
                I will be conducting three experiments and determining under which experiment the creature performs the best in. The first experiment contains a population size of 10 and a total of 300 generations, in the first experiment the creature cannot spawn more than 15 cubes. The second experiment contains a population size of 10 and a total of 150 generations, and in this experiment the creature cannot spawn more than 20 cubes. The last experiment contains a population size of 10 over 100 generations, and in this experiment the creature can spawn as many cubes as it is able to.
            </p><br>
            <p>
                After calculating the time it takes to produce one simulation(~30 seconds), it wasn't plausible for me to produce 50,000 simulations, so instead of doing a total of 500 generations over 10 seeds I made the constant of each experiment time. After experimenting with the time needed to run each simulation for the different experiments, I chose to have each experiment take 8 hours to run. Another constant in these experiments is the population size, which always stays at 10. Since I will only be doing three experiments I used 3 seeds, one for each experiment.
            </p><br>
            <p>
                I tested these experiments by making the body mutate (look at "Body and Brain Mutation" Section, line 75) randomly every generation. The control experiment in this case was experiment 1, which restricted the robot to have 15 joints. I did this by inserting this piece of code:
            </p>
            <div class="image-container">
                <img src="joints.png" alt="code describing joint limit" width="250px">
            </div>
            <p>
                These two lines made it so that if the robot was at the largest size possible, it would completely skip over the mutation of the body and not change anything. I made this into my control experiment because I isolated the variable of interest which was the number of cubes.
            </p><br>
            <p>
                The inspiration for this experiment came from a question I had about how robots of different sizes could complete certain tasks, and what the optimal size and mutation for the body would be to complete a simple task like walking or "marching to the beat".
            </p>
            <br>
            <h3>Experiment Diagram:</h3>
            <div class="image-container">
                <img src="experiment_diagram.jpg" alt="experiment diagram" width="500px">
            </div>
            <div class="diagram-descriptions">
                <p>Credit for the diagram goes to Karl Sims</p>
            </div>
        </section>
    </div>
        <div class="content" id="content2">
            <section>
                <h2 class="project_titles">Randomization, Sensors, and Fitness Function:</h2>
                <br>
                <p>The fitness function uses the random parent weights produced, and makes a replication of the random weights produced and mutates these weights in the children array. These child weights are then compared with the parent weights to produce an optimal result, which is the largest value.</p><br>
                <p>
                    The colors were chosen based on the function rand.randint. This function was called to either produce a 1 or 0 when every cube was created in the function create_body. If the number turned out to be a 1, then the cube would be green, and if the number turned out to be 0, the cube would be blue.
                </p><br>
                <p>
                    The random sensor placement was also done by the function rand.randint, correlated to how the colors were chosen as well. If the random number was 1 then the cube would have a sensor neuron, otherwise there would be no sensor neuron in that cube.
                </p><br>
            </section>
        </div>

    <div class="content" id="content3">
        <section>
            <h2 class="project_titles">Creation of the Body:</h2>
            <br>
            <p>
                I chose to completely randomize the creation of the body. I chose for the first cube always be positioned at 0,0 on the x and y axis. I also randomized the placement of all the other cubes so that they could be on either the x, y, and z axis. I always placed the joint in the middle of the cube, but when placing a new joint I took a random joint from the preexisting ones to work off.
            </p><br>
            <div class="image-container">
                <img src="creation_body.jpg" alt="creation of the body diagram" width="400px">
            </div>
            <div class="diagram-descriptions">
                <p>Credit for the diagram goes to Karl Sims</p>
            </div>
            <h2 class="project_titles">Creation of the Brain:</h2><br>
            <div class="image-container">
                <img src="brain_creation.jpg" alt="creation of the mutation diagram" width="400px">
            </div>
            <div class="diagram-descriptions">
                <p>Credit for the diagram goes to Karl Sims</p>
            </div>
            <h2 class="project_titles">Body and Brain Mutation:</h2><br>
            <p>
                The body mutates by by taking a random number of 0 or 1, and if the number turns out to be 1 then the body adds another completely randomized cube that contains a sensor neuron at a random axis onto the body.
            </p><br>
            <div class="image-container">
                <img src="mutation.jpg" alt="body and brain mutation diagram" width="400px">
            </div>
            <div class="diagram-descriptions">
                <p>Credit for the diagram goes to Karl Sims</p>
            </div>
            <br><p>
                Since these mutations are random, the offspring produced from the parents are also very random. These offspring would stay either exactly the same as the parent or the body and brain would be larger than the parents. The body could only be one cube larger than the parent and the brain would then only have one more row of sensor neurons and one more row of motor neurons. The offspring of a parents could only change by this much, but overtime the final offspring could end up growing much larger in size and having a much bigger brain than the original parent.
            </p>
        </section>
    </div>
    <div class="content" id="content4">
        <section>
            <h2 class="project_titles">Morphospace:</h2>
            <br>
            <p>
                The movements that seem to be possible with this creature are primarily just wiggles. These wiggles seem to be more prominent when the creature develops arms. It seems like the more sensor neurons are concentrated in an area, the more movement that area has.
            </p><br>
            <p>
                There are many brains which are possible based on the cubes that become sensor neurons. The brain and synpases are based off of the amount of sensor neurons the random function decides to generate. There could be a type of brain where everything has a synapse and can faciliate movement, and there can also be a type of brain with no synpases or movement. With what I have observed, it seems that there is a sensor that can affect a motor on the other side of the body, a sensor can definitly impact different parts of the body but the impact depends on the sizing of the cubes.
            </p><br>
        </section>
    </div>
    <div class="content" id="content5">
        <section>
            <h2 class="project_titles">Process of Selection:</h2>
            <br>
            <div class="image-container">
                <img src="selection_diagram.jpg" alt="selection diagram" width="500px">
            </div>
            <div class="diagram-descriptions">
                <p>Credit for the diagram goes to Karl Sims</p>
            </div>
            <br><p>
                The process of selection is started by a random array of weights produced in the parent solution, and then these weights are made into a copy which is put into the children solution. Then these weights in the children solution are randomly mutated. After the mutation, these children weights are compared to the parent weights. The ultimate goal of this process of seleciton is to find the largest possible fitness value. This means that when these weights are compared, the largest weight produced is replaced into the parent array. Then after all the generations are run, the largest weight out of the final parent array is used to make the final simulation.
            </p><br>
            <h2 class="project_titles">Optimization Results/Observed Behavior:</h2>
            <br><p>
                The optimization results were that the creature moved and wiggled more. With the wiggling and the small jumps, the creature was able to travel further back compared to when it was completely randomized.
            </p><br>
        </section>
    </div>

    <div class="content" id="content7">
        <section>
            <h2 class="project_titles">Fitness Curves:</h2>
            <br>
            <h4>Experiment 1 Fitness Curve:</h4>
            <p>
                This curve shows the results of the first experiment, where the number of joints was restricted to 15, meaning the creature could not be comprised of over 16 cubes. This experiment was run for 300 generations and the best fitness value of each generation was plotted.
            </p><br>
            <div class="image-container">
                <img src="experiment1_curve.png" alt="selection diagram" width="500px">
            </div>
            <h4>Experiment 2 Fitness Curve:</h4>
            <p>
                This curve shows the results of the second experiment, where the number of joints was restricted to 20, meaning the creature could not be comprised of over 21 cubes. This experiment was run for 150 generations and the best fitness value of each generation was plotted.
            </p><br>
            <div class="image-container">
                <img src="experiment2_curve.png" alt="selection diagram" width="500px">
            </div>
            <h4>Experiment 3 Fitness Curve:</h4>
            <p>
                This curve shows the results of the third experiment, where there was no restrictions on the number of cuves or joints that the creature could possess. This experiment was run for 100 generations and the best fitness value of each generation was plotted.
            </p><br>
            <div class="image-container">
                <img src="experiment3_curve.png" alt="selection diagram" width="500px">
            </div>
        </section>
    </div>
    <div class="content" id="content6">
        <section>
            <h2 class="project_titles">Final Results:</h2>
            <br>
            <p>
                From analyzing the behavior of the robots produced from these 3 experiments, it seems that my initial hypothesis was correct. The most restricted robot, where there could have only been 15 joints, performed the best while the least restricted robot performed the worst. The least restricted robot barely moved after 100 generations, while the most restricted robot wiggled a substantial amount and moved away from its original starting point.
            </p><br>
            <p>
                As expected, the bodies and brains changed the most in experiment 3. This is because the bodies and brains were restricted in experiments 1 and 2 to the point where they could only expand by so much. Although the bodies and brains in experiment 3 were the largest, the behavior of the robot turned out to be the least effective. All the lineages in this robot are pretty similar, with small changes in the robot happening every few generations, the experiment 1 and experiment 2 lineages stopped early on since there were restriction.
            </p><br>
            <p>
                Evolution in these robots did get stuck every few generations mainly because the body only mutates randomly, and also because once a high fitness value is reached, it is very hard to overpass it. The evolution mainly got stuck toward the end of experiments 1 and 2 because the robot wasn't able to get any bigger. I don't think there was anything that lowered the likelihood of beneficial mutations except for the restrictions I put on the robot for experiments 1 and 2.
            </p>
            <h4>Digging Deeper:</h4>
            <p>
                After digging further into the results, it seems that the most restricted robot (experiment 1), actually has the most symmetry among the three experiments. The experiment 1 robot seemed to produce 2 arms, which helped with its task of marching to the beat, while the robots from experiment 2 and 3 stayed as lumps of cubes.
            </p><br>
            <p>
                From analyzing the fitness curves, it seems that the least restricted robot actually performed the best. The final fitness value of the least restricted robot (experiment 3) was around 25, while experiment 2 was around 16, and experiment 1 was around 21.
            </p><br>
            <p>
                Although I believe these results are telling, I think it is important to note that since my constant was time, I ran the most restricted robot for many more generations than my other robots. This could have been a contributing factor as to why the most restricted robot performed the best.
            </p>
        </section>
    </div>


    
    <script src="artificial_life.js"></script>
</body>
</html>
